document.addEventListener("DOMContentLoaded",function(){if(!!document.getElementById("wpdr-en-notify")){document.getElementById("wpdr-en-notify").addEventListener("click",()=>{document.getElementById("wpdr-en-notify").disabled=!0,document.getElementById("dProgress").style.display="inline-block",document.getElementById("wpdr-en-message").style.display="inline-block",document.getElementById("wpdr-en-message").innerHTML=wpdr_en_obj.sending_mails,jQuery("#dProgress").ajaxStart(function(){$(this).show()}).ajaxStop(function(){$(this).hide(),$(this).unbind("ajaxStart")});var a=document.getElementById("wpdr-en-notification-postid").value;jQuery.ajax({type:"POST",dataType:"json",url:wpdr_en_obj.ajaxurl,data:{action:"wpdr_en_send_notification_manual",post_id:a,wpdr_en_nonce:wpdr_en_obj.wpdr_en_nonce},success:function(a){a.error?0==a.logged_count||0==a.sent_count?(document.getElementById("wpdr-en-message").innerHTML=wpdr_en_obj.error_sending,alert(a.error_msg+"\n\n[Error: "+a.error_code+"]")):(document.getElementById("wpdr-en-message").innerHTML=a.sent_count+" "+wpdr_en_obj.emails_out_of+" "+(a.sent_count+a.sending_error_count)+" "+wpdr_en_obj.sent_with+" "+(a.sent_count+a.sending_error_count-a.logged_count)+" "+wpdr_en_obj.log_issues+" <a href=\""+a.log_page_url+"\">"+wpdr_en_obj.log+"</a> "+wpdr_en_obj.for_details,document.getElementById("wpdr-en-notify").value=wpdr_en_obj.resend):(document.getElementById("wpdr-en-message").innerHTML="<br>"+a.sent_count+" "+wpdr_en_obj.notif_sent_check+" <a href=\""+a.log_page_url+"\">"+wpdr_en_obj.log+"</a> "+wpdr_en_obj.for_details,document.getElementById("wpdr-en-notify").value=wpdr_en_obj.resend)}}),document.getElementById("dProgress").style.display="none",document.getElementById("wpdr-en-notify").disabled=!1}),document.getElementById("wpdr-en-ext-note").addEventListener("click",()=>{document.getElementById("wpdr-en-ext-note").disabled=!0,document.getElementById("dProgress").style.display="inline-block",document.getElementById("wpdr-en-message").style.display="inline-block",document.getElementById("wpdr-en-message").innerHTML=wpdr_en_obj.sending_mails,jQuery("#dProgress").ajaxStart(function(){$(this).show()}).ajaxStop(function(){$(this).hide(),$(this).unbind("ajaxStart")});var a=document.getElementById("wpdr-en-notification-postid").value,b=[],c=document.querySelectorAll("input[name='wpdr-en-ext-list']:checked");if(0<c.length)for(let a of c)b.push(a.value);jQuery.ajax({type:"POST",dataType:"json",url:wpdr_en_obj.ajaxurl,data:{action:"wpdr_en_send_ext_notice_manual",post_id:a,lists:b,wpdr_en_nonce:wpdr_en_obj.wpdr_en_nonce},success:function(a){a.error?0==a.logged_count||0==a.sent_count?(document.getElementById("wpdr-en-message").innerHTML=wpdr_en_obj.error_sending,alert(a.error_msg+"\n\n[Error: "+a.error_code+"]")):(document.getElementById("wpdr-en-message").innerHTML=a.sent_count+" "+wpdr_en_obj.emails_out_of+" "+(a.sent_count+a.sending_error_count)+" "+wpdr_en_obj.sent_with+" "+(a.sent_count+a.sending_error_count-a.logged_count)+" "+wpdr_en_obj.log_issues+" <a href=\""+a.log_page_url+"\">"+wpdr_en_obj.log+"</a> "+wpdr_en_obj.for_details,document.getElementById("wpdr-en-ext-note").value=wpdr_en_obj.resend):(document.getElementById("wpdr-en-message").innerHTML="<br>"+a.sent_count+" "+wpdr_en_obj.notif_sent_check+" <a href=\""+a.log_page_url+"\">"+wpdr_en_obj.log+"</a> "+wpdr_en_obj.for_details,document.getElementById("wpdr-en-ext-note").value=wpdr_en_obj.resend)}}),document.getElementById("dProgress").style.display="none",document.getElementById("wpdr-en-ext-note").disabled=!1});for(let a of document.getElementsByName("wpdr-en-ext-list"))a.addEventListener("click",()=>{document.getElementById("wpdr-en-ext-note").disabled=0===document.querySelectorAll("input[name^='wpdr-en-ext-list']:checked").length})}});